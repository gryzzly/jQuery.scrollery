(function(a){a.fn.scrollery=function(c){var d=a(document),e=function(g,h){var i=[].slice;var f=i.call(arguments,2);return function(){return g.apply(h,f.concat(i.call(arguments)))}};c=a.extend({delay:500,hideScrollBar:true,keyboardControls:true},c);var b=function(f){this.container=f;this.list=this.container.children("ul");this.items=this.list.children();this.len=this.items.length;this.images=this.list.find("img");this.imagesCounter=0;if(c.hideScrollBar){this.list.css("overflow-x","hidden")}this.loadImages()};b.prototype={imageDone:function(){if(this.imagesCounter===this.len){this.init()}},loadImages:function(){var f=this;this.images.each(function(){if(this.complete){f.imageDone()}else{this.onload=function(){f.imageDone()};this.onerror=function(){f.imageDone()}}})},doScroll:function(){var f,g;if(this.list.is(":animated")){return}g=0;f=this.list.scrollLeft();while(g<this.len){g+=1;if(f<this.positions[g]){break}}this.list.scrollTo(f<this.scrollDelta?this.items.eq(g):0,c.delay)},init:function(){var f=this;this.positions=[];this.childrenWidth=0;this.scrollDelta=0;this.list.css("padding-right",this.list.outerWidth()-this.images.last().width());for(var g=0;g<this.len;g+=1){this.positions.push(this.items.eq(g).position().left);this.childrenWidth+=this.items[g].clientWidth}this.scrollDelta=this.childrenWidth+parseInt(this.list.css("padding-left"))+parseInt(this.list.css("padding-right"));this.scrollDelta-=this.list.outerWidth();this.scrollDelta-=parseInt(this.items.eq(0).css("padding-left"));this.scrollDelta-=parseInt(this.items.eq(0).css("padding-right"));if(this.list.outerWidth()>this.childrenWidth){return}this.container.bind("click.scrollery",function(){f.doScroll()});if(c.keyboardControls){d.bind("keydown.scrollery",function(i){var h=i.keyCode||i.which;if(h===39){i.preventDefault();f.doScroll()}})}a(window).resize(function(){f.list.css("padding-right",0);f.list.css("padding-right",f.list.outerWidth()-f.images.last().width());f.scrollDelta=f.list[0].scrollWidth-f.list.outerWidth();f.scrollDelta-=parseInt(f.items.eq(0).css("padding-left"));f.scrollDelta-=parseInt(f.items.eq(0).css("padding-right"))})}};return this.each(function(){new b(a(this))})}}(jQuery));